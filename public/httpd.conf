# Load Apache configuration
<IfModule mod_rewrite.c>
  RewriteEngine On
  RewriteBase /

  # Redirect all requests to the index page
  RewriteRule ^(.*)$ index.html [L]

  # Serve static files directly
  RewriteRule ^assets/(.*)$ assets/$1 [L]

  # Redirect to HTTPS if available
  RewriteCond %{HTTPS} off
  RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]
</IfModule>

# Load Nginx configuration
if ($server_software ~* nginx) {
  location / {
    try_files $uri $uri/ /index.html;
  }

  location /assets/ {
    try_files $uri =404;
  }

  if ($scheme != "https") {
    return 301 https://$server_name$request_uri;
  }
}